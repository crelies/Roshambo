//
//  PlayerViewViewModelCreator.swift
//  Roshambo
//
//  Created Christian Elies on 24.04.19.
//  Copyright Â© 2019 Christian Elies. All rights reserved.
//
//  Template generated by Christian Elies @crelies
//

import UIKit

protocol PlayerViewViewModelCreatorProvider {
	var playerViewViewModelCreator: PlayerViewViewModelCreatorProtocol { get }
}

protocol PlayerViewViewModelCreatorProtocol {
    func createViewModel(forState state: PlayerViewState, isWinner: Bool) -> PlayerViewViewModel
}

final class PlayerViewViewModelCreator {
	private let dependencies: PlayerViewViewModelCreatorDependenciesProtocol

	init(dependencies: PlayerViewViewModelCreatorDependenciesProtocol) {
		self.dependencies = dependencies
	}
}

extension PlayerViewViewModelCreator: PlayerViewViewModelCreatorProtocol {
    func createViewModel(forState state: PlayerViewState, isWinner: Bool) -> PlayerViewViewModel {
        switch state {
            case .initial:
                return PlayerViewViewModel(isInformationLabelHidden: false,
                                           informationLabelText: state.displayText,
                                           informationLabelFontSize: MetricConstants.defaultFontSize,
                                           areActionButtonsHidden: true)
            case .takeAction:
                return PlayerViewViewModel(isInformationLabelHidden: true,
                                           informationLabelText: state.displayText,
                                           informationLabelFontSize: MetricConstants.defaultFontSize,
                                           areActionButtonsHidden: false)
            case .result:
                let informationLabelFontSize: CGFloat = isWinner ? MetricConstants.winnerFontSize : MetricConstants.PlayerView.InformationLabel.resultFontSize
                return PlayerViewViewModel(isInformationLabelHidden: false,
                                           informationLabelText: state.displayText,
                                           informationLabelFontSize: informationLabelFontSize,
                                           areActionButtonsHidden: true)
        }
    }
}
